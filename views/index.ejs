<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="weather-api-key" content="<%= WEATHER_API_KEY %>">
    <meta name="location-city" content="<%= LOCATION.CITY %>">
    <meta name="location-state" content="<%= LOCATION.STATE_CODE %>">
    <meta name="location-country" content="<%= LOCATION.COUNTRY_CODE %>">

    <title>RPi Moment</title>

    <!-- CSS FIles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.3/tailwind.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body>

    <div class="min-h-screen bg-gradient-to-r from-purple-400 to-green-400" id="app">
        <!-- Screen Loader -->
        <div id="loader" class="fixed top-0 left-0 right-0 h-full bg-gray-800 z-50 flex flex-col justify-center items-center">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background: transparent;display:block;" width="150px" height="150px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                <g transform="translate(50 50)">
                    <g ng-attr-transform="scale(0.8)">
                        <g transform="translate(-50 -50)">
                            <path fill="#85a2b6" stroke="#e15b64" stroke-width="0" d="M50,14c19.85,0,36,16.15,36,36S69.85,86,50,86S14,69.85,14,50S30.15,14,50,14 M50,10c-22.091,0-40,17.909-40,40 s17.909,40,40,40s40-17.909,40-40S72.091,10,50,10L50,10z"></path>
                            <path fill="#bbcedd" d="M52.78,42.506c-0.247-0.092-0.415-0.329-0.428-0.603L52.269,40l-0.931-21.225C51.304,18.06,50.716,17.5,50,17.5 s-1.303,0.56-1.338,1.277L47.731,40l-0.083,1.901c-0.013,0.276-0.181,0.513-0.428,0.604c-0.075,0.028-0.146,0.063-0.22,0.093V44h6 v-1.392C52.925,42.577,52.857,42.535,52.78,42.506z">
                                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" values="0 50 50;360 50 50" keyTimes="0;1" dur="0.4166666666666667s"></animateTransform>
                            </path>
                            <path fill="#bbcedd" d="M58.001,48.362c-0.634-3.244-3.251-5.812-6.514-6.391c-3.846-0.681-7.565,1.35-9.034,4.941 c-0.176,0.432-0.564,0.717-1.013,0.744l-15.149,0.97c-0.72,0.043-1.285,0.642-1.285,1.383c0,0.722,0.564,1.321,1.283,1.363 l15.153,0.971c0.447,0.027,0.834,0.312,1.011,0.744c1.261,3.081,4.223,5.073,7.547,5.073c2.447,0,4.744-1.084,6.301-2.975 C57.858,53.296,58.478,50.808,58.001,48.362z M50,53.06c-1.688,0-3.06-1.373-3.06-3.06s1.373-3.06,3.06-3.06s3.06,1.373,3.06,3.06 S51.688,53.06,50,53.06z">
                                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.6666666666666667s"></animateTransform>
                            </path>
                        </g>
                    </g>
                </g>
            </svg>
        </div>

        <!-- Body -->
        <div class="flex flex-col h-screen p-3 border-box">
            
            <!-- Clock -->
            <div class="grid grid-cols-3 gap-3 h-full">
                <div class="col-span-2 flex flex-col justify-center items-center border-2 shadow-2xl rounded-xl p-5 relative">

                    <!-- Refresh Button -->
                    <button
                        type="button"
                        id="refresh-data"
                        class="absolute top-1 left-1 text-white p-1 rounded-full"
                        v-bind:class="loadingData ? 'animate' : null"
                        v-on:click.prevent="refreshData()"
                    >
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                        </svg>
                    </button>
                    
                    <!-- Not network signal -->
                    <svg v-if="!network.isConnected" class="icon icon-tabler icon-tabler-wifi-off absolute top-1 right-1 w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <line x1="12" y1="18" x2="12.01" y2="18" />
                        <path d="M9.172 15.172a4 4 0 0 1 5.656 0" />
                        <path d="M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2" />
                        <path d="M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374" />
                        <line x1="3" y1="3" x2="21" y2="21" />
                    </svg>

                    <h1 class="text-4xl text-white f-inter" v-cloak>{{ current.time }}</h1>
                    <h3 class="text-2xl text-white mt-3" v-cloak>{{ current.date }}</h3>
                </div>
                
            </div>
            <div class="mt-3 grid grid-cols-3 gap-3 h-full">

                <!-- Weather -->
                <div class="flex flex-col justify-center items-center border-2 shadow-2xl rounded-xl p-2">
                    <div class="flex flex-row justify-center items-center">
                        <img class="w-12 h-12" v-cloak v-bind:src="current.tempIcon">
                        <h3 class="text-xl text-white ml-1 mt-1" v-cloak>{{ current.temp }} &deg;C</h3>
                    </div>
                    <h6 class="text-base text-white mt-2" v-cloak>{{ current.tempType }}</h6>
                    <h6 class="text-xs text-white mt-3" v-cloak>Sunrise: {{ current.sunrise }}</h6>
                    <h6 class="text-xs text-white mt-1" v-cloak>Sunset: {{ current.sunset }}</h6>
                </div>


            </div>

            <!-- Network Connection Notifier -->
            <div 
                id="network-notifier" 
                class="fixed bottom-0 left-0 right-0 h-20 text-white text-lg border-t-2 border-white flex flex-col justify-center items-center"
                v-cloak
                v-bind:class="network.notifierVisible ? 'visible' : ''"
            >
                <div class="flex flex-col items-center justify-center" v-if="!network.isConnected">
                    <svg class="icon icon-tabler icon-tabler-wifi-off w-10 h-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <line x1="12" y1="18" x2="12.01" y2="18" />
                        <path d="M9.172 15.172a4 4 0 0 1 5.656 0" />
                        <path d="M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2" />
                        <path d="M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374" />
                        <line x1="3" y1="3" x2="21" y2="21" />
                    </svg>
                    <h6 class="text-lg text-white mt-1">Connection lost!</h6>
                </div>
                <div class="flex flex-col items-center justify-center" v-if="network.isConnected">
                    <svg class="icon icon-tabler icon-tabler-wifi w-10 h-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <line x1="12" y1="18" x2="12.01" y2="18" />
                        <path d="M9.172 15.172a4 4 0 0 1 5.656 0" />
                        <path d="M6.343 12.343a8 8 0 0 1 11.314 0" />
                        <path d="M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0" />
                    </svg>
                    <h6 class="text-lg text-white mt-1">Back online!</h6>
                </div>
            </div>
        </div>
    </div>


    <!-- JS Files -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script type="text/javascript">
        window.addEventListener('DOMContentLoaded', (event) => {
            const $pageLoader = document.getElementById('loader');
            
            setTimeout(() => {
                $pageLoader.style.top = '-' + document.body.clientHeight + 'px';
                setTimeout(() => {
                    $pageLoader.parentElement.removeChild($pageLoader);
                }, 600)
            }, 1000);
        })
    </script>
</body>

</html>